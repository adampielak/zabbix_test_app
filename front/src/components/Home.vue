<template>
  <div class="container">
    <div class="row mt-5">
      <div class="col"><h1>{{ msg }}</h1></div>
      <div class="col ml-auto pt-2">
        <b-button variant="outline-primary" v-on:click="fetch" class="small float-right">–û–±–Ω–æ–≤–∏—Ç—å</b-button>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <p v-if="items[0]">–ü–æ–ª—É—á–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</p>
        <p class="mt-" v-else>–û, –Ω–µ—Ç üò¢ !!! –ü—Ä–æ–∏–∑–æ—à–ª–∞, –æ—à–∏–±–∫–∞ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ–±—ã–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã!</p>
      </div>
      <b-table striped hover :items="items" class="mt-3"></b-table>
    </div>
  </div>
</template>

<script>
import axios from "axios";
export default {
    name: 'Home',
    props: {
      msg: String,
    },
    data() {
      return {
        items: [],
        loading: false,
        error: null
      }
    },
    mounted() {
      axios
        .get('http://localhost:8080/')
        .then(response => (this.items = response.data));
    },
    methods: {
      fetch: function (event) {
        axios
          .get('http://localhost:8080/')
          .then(response => (this.items = response.data));
        if (event) {
          alert('–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö!')
        }
      }
    }
  }
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped></style>
